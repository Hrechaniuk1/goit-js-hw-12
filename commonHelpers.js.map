{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const gallery = document.querySelector(\".gallery\")\n\nfunction doMarkUp(data) {\n        const markUp = data.hits.map(a =>\n        `<li class=\"gallery-item\" data-id=\"${a.id}\">\n        <div class=\"img-container\" >\n        <a class=\"large-image\" href=\"${a.largeImageURL}\">\n        <img class=\"image\" src=\"${a.webformatURL}\" alt=\"${a.tags}\">\n        </a> \n        </div>\n        <ul class=\"description-list\" >\n          <li class=\"description-item\"><p>Likes</p><p>${a.likes}</p></li>\n          <li class=\"description-item\"><p>Views</p><p>${a.views}</p></li>\n          <li class=\"description-item\"><p>Comments</p><p>${a.comments}</p></li>\n          <li class=\"description-item\"><p>Downloads</p><p>${a.downloads}</p></li>\n        </ul>\n      </li>`).join(\"\")\n    gallery.insertAdjacentHTML(\"beforeend\", markUp)\n}\n                \nexport default doMarkUp          ","import doMarkUp from \"./render-functions.js\"\nimport SimpleLightbox from \"simplelightbox\"\nimport iziToast from \"izitoast\";\nimport axios from \"axios\";\n\nlet page = 1\nlet searchWord\n\nconst requestForImgs = async (event) => {\n    let keyWord\n    if (event.target === document.querySelector(\".more-btn\")) {\n        keyWord = searchWord\n        page += 1\n    } else {\n        searchWord = event.target.elements.search.value.trim()\n        keyWord = searchWord\n        page = 1\n    }\n    const loader = document.querySelector(\".loader\")\n     loader.classList.remove(\"is-hidden\")\n     try {\n         const response = await axios.get(\"https://pixabay.com/api/\", {\n             params: {\n                 key: \"42614843-af27c28624474ca020601ef6c\",\n                 q: keyWord,\n                 image_type: \"photo\",\n                 orientation: \"horizontal\",\n                 safesearch: \"true\",\n                 per_page: 15,\n                 page,\n             }\n         })\n         if (response.data.hits.length === 0) {\n             iziToast.show({ message: \"Sorry, there are no images matching your search query. Please try again!\", backgroundColor: \"red\", messageColor: \"white\", position: \"topCenter\" })\n         } else {\n             doMarkUp(response.data)\n             document.querySelector(\".more-btn\").classList.remove(\"is-hidden\")\n             if (event.target === document.querySelector(\".more-btn\")) {\n                const imgPerOneTime = 15 \n                let imgAmount = response.data.totalHits\n                 const totalPages = Math.ceil(imgAmount / imgPerOneTime)\n                 if (totalPages <= page) {\n                     document.querySelector(\".more-btn\").classList.add(\"is-hidden\")\n                     iziToast.show({ message: \"We're sorry, but you've reached the end of search results.\", backgroundColor: \"red\", messageColor: \"white\", position: \"topCenter\" })\n                 }\n                 const item = document.querySelector(\".gallery-item\")\n                    const itemHight = item.getBoundingClientRect().height\n                    window.scrollBy({\n                        top: (itemHight * 2),\n                        left: 0,\n                        behavior: \"smooth\",\n                        });\n             }\n         }\n         loader.classList.add(\"is-hidden\")\n         const lightbox = new SimpleLightbox(\".large-image\", { captionDelay: 250, captionsData: \"alt\", })\n         lightbox.refresh()\n     } catch (error) {\n         iziToast.show({ message: \"Sorry, something goes wrong!\", backgroundColor: \"red\", messageColor: \"white\", position: \"topCenter\" })\n     }\n}\n\nexport default requestForImgs","import requestForImgs from \"./js/pixabay-api.js\"\nimport iziToast from \"izitoast\";\n\nconst form = document.querySelector(\".form\")\nconst moreBtn = document.querySelector(\".more-btn\")\n\n\n\nform.addEventListener(\"submit\", doSearch)\n\nfunction doSearch(event) {\n    event.preventDefault()\n    if (event.target.elements.search.value === \"\") {\n         iziToast.show({message: \"You have to text something\", backgroundColor: \"red\", messageColor: \"white\", position: \"topCenter\"})\n    } else {\n            document.querySelector(\".gallery\").innerHTML = \"\"\n            requestForImgs(event)\n    }\n    form.reset()\n}\n\nmoreBtn.addEventListener(\"click\", showMoreImgs)\n\nfunction showMoreImgs(event) {\n    requestForImgs(event)\n}"],"names":["gallery","doMarkUp","data","markUp","a","page","searchWord","requestForImgs","event","keyWord","loader","response","axios","iziToast","imgAmount","itemHight","SimpleLightbox","form","moreBtn","doSearch","showMoreImgs"],"mappings":"owBAAA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAASC,EAAM,CAChB,MAAMC,EAASD,EAAK,KAAK,IAAIE,GAC7B,qCAAqCA,EAAE,EAAE;AAAA;AAAA,uCAEVA,EAAE,aAAa;AAAA,kCACpBA,EAAE,YAAY,UAAUA,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA,wDAIRA,EAAE,KAAK;AAAA,wDACPA,EAAE,KAAK;AAAA,2DACJA,EAAE,QAAQ;AAAA,4DACTA,EAAE,SAAS;AAAA;AAAA,YAE3D,EAAE,KAAK,EAAE,EACjBJ,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,CCbA,IAAIE,EAAO,EACPC,EAEJ,MAAMC,EAAiB,MAAOC,GAAU,CACpC,IAAIC,EACAD,EAAM,SAAW,SAAS,cAAc,WAAW,GACnDC,EAAUH,EACVD,GAAQ,IAERC,EAAaE,EAAM,OAAO,SAAS,OAAO,MAAM,KAAM,EACtDC,EAAUH,EACVD,EAAO,GAEX,MAAMK,EAAS,SAAS,cAAc,SAAS,EAC9CA,EAAO,UAAU,OAAO,WAAW,EACnC,GAAI,CACA,MAAMC,EAAW,MAAMC,EAAM,IAAI,2BAA4B,CACzD,OAAQ,CACJ,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GACV,KAAAJ,CACH,CACd,CAAU,EACD,GAAIM,EAAS,KAAK,KAAK,SAAW,EAC9BE,EAAS,KAAK,CAAE,QAAS,2EAA4E,gBAAiB,MAAO,aAAc,QAAS,SAAU,WAAW,CAAE,UAE3KZ,EAASU,EAAS,IAAI,EACtB,SAAS,cAAc,WAAW,EAAE,UAAU,OAAO,WAAW,EAC5DH,EAAM,SAAW,SAAS,cAAc,WAAW,EAAG,CAEvD,IAAIM,EAAYH,EAAS,KAAK,UACV,KAAK,KAAKG,EAAY,EAAa,GACpCT,IACd,SAAS,cAAc,WAAW,EAAE,UAAU,IAAI,WAAW,EAC7DQ,EAAS,KAAK,CAAE,QAAS,6DAA8D,gBAAiB,MAAO,aAAc,QAAS,SAAU,WAAW,CAAE,GAG9J,MAAME,EADI,SAAS,cAAc,eAAe,EACzB,sBAAqB,EAAG,OAC/C,OAAO,SAAS,CACZ,IAAMA,EAAY,EAClB,KAAM,EACN,SAAU,QAClC,CAAyB,CACX,CAELL,EAAO,UAAU,IAAI,WAAW,EACf,IAAIM,EAAe,eAAgB,CAAE,aAAc,IAAK,aAAc,MAAQ,EACtF,QAAS,CACrB,MAAe,CACZH,EAAS,KAAK,CAAE,QAAS,+BAAgC,gBAAiB,MAAO,aAAc,QAAS,SAAU,WAAW,CAAE,CAClI,CACN,ECzDMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,WAAW,EAIlDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASX,EAAO,CACrBA,EAAM,eAAgB,EAClBA,EAAM,OAAO,SAAS,OAAO,QAAU,GACtCK,EAAS,KAAK,CAAC,QAAS,6BAA8B,gBAAiB,MAAO,aAAc,QAAS,SAAU,WAAW,CAAC,GAExH,SAAS,cAAc,UAAU,EAAE,UAAY,GAC/CN,EAAeC,CAAK,GAE5BS,EAAK,MAAO,CAChB,CAEAC,EAAQ,iBAAiB,QAASE,CAAY,EAE9C,SAASA,EAAaZ,EAAO,CACzBD,EAAeC,CAAK,CACxB"}